<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Letter Spinning</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #E9E9E9; /* Background color as 233-233-233 */
        }
        #custom-cursor {
            position: fixed;
            width: 22px;
            height: 22px;
            background-color: black;
            border-radius: 50%;
            pointer-events: none;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
    <div id="custom-cursor"></div>
    <script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
    <script>
        // Variables
        const letters = 'PORTFOLIOBYTJARK';
        const imageUrls = [
            'https://tjjjark.github.io/mainImages/image1.png',
            'https://tjjjark.github.io/mainImages/image2.png',
            'https://tjjjark.github.io/mainImages/image3.png',
            'https://tjjjark.github.io/mainImages/image4.png',
            'https://tjjjark.github.io/mainImages/image5.png'
        ];
        let currentIndex = 0;
        let spawnImages = false;

        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Lighting
        const light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(1, 1, 1).normalize();
        scene.add(light);

        // Letter setup
        const letterGeometry = new THREE.TextGeometry('P', {
            font: new THREE.FontLoader().parse({/* JSON font data here */}),
            size: 15,
            height: 2
        });
        const letterMaterial = new THREE.MeshBasicMaterial({ color: 0x000000 });
        let letterMeshes = [];

        function createLetter(char, position) {
            const geometry = new THREE.TextGeometry(char, {
                font: new THREE.FontLoader().parse({/* JSON font data here */}),
                size: 15,
                height: 2
            });
            const material = new THREE.MeshBasicMaterial({ color: getRandomColor() });
            const mesh = new THREE.Mesh(geometry, material);
            mesh.position.set(position.x, position.y, position.z);
            scene.add(mesh);
            letterMeshes.push({ mesh, velocity: new THREE.Vector3(Math.random() * 0.1 - 0.05, Math.random() * 0.1 - 0.05, Math.random() * 0.1 - 0.05) });
        }

        function handleClick(event) {
            if (!spawnImages && currentIndex < letters.length) {
                createLetter(letters[currentIndex], { x: (event.clientX / window.innerWidth) * 2 - 1, y: -(event.clientY / window.innerHeight) * 2 + 1, z: 0 });
                currentIndex++;
            } else if (spawnImages) {
                const imageUrl = imageUrls[(currentIndex - letters.length) % imageUrls.length];
                const textureLoader = new THREE.TextureLoader();
                textureLoader.load(imageUrl, function (texture) {
                    const material = new THREE.MeshBasicMaterial({ map: texture });
                    const geometry = new THREE.PlaneGeometry(50, 50 * texture.image.height / texture.image.width);
                    const mesh = new THREE.Mesh(geometry, material);
                    mesh.position.set((event.clientX / window.innerWidth) * 2 - 1, -(event.clientY / window.innerHeight) * 2 + 1, 0);
                    scene.add(mesh);
                });
                currentIndex++;
            }

            if (currentIndex === letters.length) {
                spawnImages = true;
            }
        }

        function getRandomColor() {
            const colors = [0xFF5733, 0x33FF57, 0x3357FF, 0xF0F033, 0xFF33F6];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            letterMeshes.forEach(letter => {
                letter.mesh.position.add(letter.velocity);
                // Bounce off edges
                if (letter.mesh.position.x > 1 || letter.mesh.position.x < -1) letter.velocity.x *= -1;
                if (letter.mesh.position.y > 1 || letter.mesh.position.y < -1) letter.velocity.y *= -1;
            });

            renderer.render(scene, camera);
        }

        // Event listeners
        window.addEventListener('click', handleClick);
        window.addEventListener('mousemove', (event) => {
            const mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            const mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
            document.getElementById('custom-cursor').style.left = `${event.clientX}px`;
            document.getElementById('custom-cursor').style.top = `${event.clientY}px`;
        });

        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
        });

        camera.position.z = 125;

        // Start animation
        animate();
    </script>
</body>
</html>
